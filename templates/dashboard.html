{% extends "base.html" %}
{% block content %}

<!-- Dashboard Header -->
<section class="dashboard-header">
    <div class="container">
        <h1>Dashboard</h1>
        <p>Manage your jobs, applications, and account settings.</p>
    </div>
</section>

<!-- Dashboard Content -->
<section class="dashboard-content">
    <div class="container">
        {% if user.role == 'employer' %}
            <h2>Your Posted Jobs</h2>
            <a href="{{ url_for('post_job') }}" class="btn-gold">Post New Job</a>
            <div class="job-listings">
                {% if jobs %}
                    {% for job in jobs %}
                    <div class="job-card">
                        <h3><a href="{{ url_for('job_detail', job_id=job.id) }}">{{ job.title }}</a></h3>
                        <p>{{ job.company }} - {{ job.location }}</p>
                        <p>Type: {{ job.job_type }} | Posted: {{ job.date_posted }}</p>
                        <div class="dashboard-actions">
                            <a href="{{ url_for('edit_job', job_id=job.id) }}" class="btn-gold">Edit</a>
                            <a href="{{ url_for('delete_job', job_id=job.id) }}" class="btn-red">Delete</a>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <p>You have not posted any jobs yet.</p>
                {% endif %}
            </div>
        {% elif user.role == 'job_seeker' %}
            <h2>Your Applications</h2>
            <div class="job-listings">
                {% if applications %}
                    {% for app in applications %}
                    <div class="job-card">
                        <h3><a href="{{ url_for('job_detail', job_id=app.job.id) }}">{{ app.job.title }}</a></h3>
                        <p>{{ app.job.company }} - {{ app.job.location }}</p>
                        <p>Status: {{ app.status }}</p>
                    </div>
                    {% endfor %}
                {% else %}
                    <p>You have not applied to any jobs yet.</p>
                {% endif %}
            </div>
        {% endif %}
    </div>
</section>

{% endblock %}
